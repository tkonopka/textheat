(this.webpackJsonpexamples=this.webpackJsonpexamples||[]).push([[0],{81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},94:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(27),i=n.n(c),s=(n(81),n(82),n(139)),o=n(11);n(83);function l(e){return[1,3,5].map((function(t){return e.substr(t,2)})).map((function(e){return parseInt(e,16)})).map((function(e){return e/255}))}function u(e){return"#"+e.map((function(e){return Math.round(255*e)})).map((function(e){return e.toString(16).padStart(2,"0")})).join("")}function h(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=l(e),a=l(t),c=[0,1,2].map((function(e){return(a[e]-r[e])/(n-1)}));return Array.from(new Array(n).keys()).map((function(e){return[0,1,2].map((function(t){return r[t]+e*c[t]}))})).map((function(e){return u(e)}))}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:128,n=e.length;if(n>=t)return e.slice(0,t);if(2===n)return h(e[0],e[1],t);for(var r=new Array(t),a=Math.ceil(t/(n-1)),c=0;c<n-1;c++)for(var i=h(e[c],e[c+1],a),s=0;s<a;s++)r[Math.min(Math.round(c*t/(n-1))+s,t-1)]=i[s];return r}var j=a.a.forwardRef,f=a.a.useImperativeHandle,b=function(e){return Math.min(1,Math.max(0,Math.round(1e3*e)/1e3))};function p(e,t){for(var n=[e[0]],r=[t[0]],a=1;a<t.length;a++)t[a]===t[a-1]?n[n.length-1]+=e[a]:(n.push(e[a]),r.push(t[a]));return[n,r]}function x(e,t){var n,r=0;if(t===e)return 0;if(!e.contains(t))return-1;for(;n=(n||t).previousSibling;)r+=(n.innerText||n.nodeValue||"").length;return r+x(e,t.parentNode)}function m(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[[],[]],n=Array.from(e.childNodes),r=0,a=n;r<a.length;r++){var c=a[r];c.hasChildNodes()?t=m(c,t):(t[0].push(c.textContent),t[1].push(b(parseFloat(c.parentElement.getAttribute("data-weight")))))}return t}function O(e,t,n,r){for(var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=e[0],i=e[1],s=0,o=0,l=[],u=[];o<c.length;){var h=c[o],d=i[o],j=h.length;s+j<=t||s>=n?(l.push(h),u.push(d)):s===t&&s+j===n?(l.push(h),u.push(a?d+r:r)):(s<t?(l.push(h.slice(0,t-s)),u.push(d),l.push(h.slice(t-s,n-s)),u.push(a?d+r:r)):(l.push(h.slice(0,n-s)),u.push(a?d+r:r)),s+j>n&&(l.push(h.slice(n-s)),u.push(d))),s+=j,o+=1}return p(l,u.map((function(e){return b(e)})))}for(var g=j((function(e,t){var n=e.value,c=e.weight,i=e.colors,s=e.editable;if(n||(n=[""]),"string"===typeof n)if(c&&c.length===n.length){var l=c.map((function(e,t){if(0===t||e!=c[t-1])return t})).filter((function(e){return e>=0}));n=l.map((function(e,t){return n.slice(e,l[t+1])})),c=l.map((function(e,t){return c[e]}))}else n=[n],c=[0];var u=Object(r.useState)([n,c]),h=Object(o.a)(u,2),j=h[0],b=h[1],p=d("undefined"===typeof i?["#ffffff","#ff8888"]:i,128),g=a.a.createRef(),v=j[0].map((function(e,t){var n=p[Math.round(127*j[1][t])];return a.a.createElement("span",{key:t,"data-weight":j[1][t],style:{backgroundColor:n}},e)})),w=function(){var e=g.current,t=document.getSelection();if(!e.contains(t.anchorNode))return[-1,-1];var n=t.getRangeAt(0);return[x(e,n.startContainer)+n.startOffset,x(e,n.endContainer)+n.endOffset]};return f(t,(function(){return{getContent:function(){return JSON.parse(JSON.stringify(j))},incrementWeight:function(e,t,n){if(void 0===t||void 0===n){var r=w(),a=Object(o.a)(r,2);t=a[0],n=a[1]}if(n!==t){var c=m(g.current);b(O(c,t,n,e,!0))}},setWeight:function(e,t,n){if(void 0===t||void 0===n){var r=w(),a=Object(o.a)(r,2);t=a[0],n=a[1]}if(n!==t){var c=m(g.current);b(O(c,t,n,e,!1))}},refresh:function(){b(m(g.current))}}})),a.a.createElement("div",{ref:g,className:"textheat",contentEditable:s,suppressContentEditableWarning:!0,onPaste:function(e){e.preventDefault();var t=(e.originalEvent||e).clipboardData.getData("text/plain");document.execCommand("insertHTML",!1,t)},role:"textbox"},v)})),v=n(1),w="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",y=w.split("").map((function(e){return 0})),C=0;C<21;C++)y[0+C]=.2;for(var T=0;T<5;T++)y[6+T]=.4;for(var N=0;N<8;N++)y[40+N]=.5;for(var S=0;S<8;S++)y[48+S]=.7;for(var k=0;k<8;k++)y[56+k]=.8;for(var L=0;L<8;L++)y[64+L]=.9;for(var F=0;F<8;F++)y[72+F]=1;for(var M=0;M<17;M++)y[80+M]=.6;function V(){return Object(v.jsx)(g,{className:"textheat",value:w,weight:y})}function A(){return Object(v.jsx)(g,{className:"textheat",value:w,weight:y,colors:["#ffffff","#8888ff"]})}function H(){return Object(v.jsx)(g,{className:"textheat",value:w,weight:y,colors:["#ffffff","#ffff88","#ff9999"]})}var I=n(135),E=n(140),D=n(142),P=n(137),R=n(126),W=n(133),B=n(143),J=n(138),z=n(67),q=n.n(z),U=n(68),_=n.n(U),G=n(69),K=n.n(G),Q=n(141),X=n(70),Y=n.n(X);function Z(e){var t=e.paintValue,n=e.setPaintValue,r=e.handlePaint;return Object(v.jsxs)(R.a,{direction:"row",alignItems:"center",spacing:2,children:[Object(v.jsx)(E.a,{sx:{width:120},children:Object(v.jsx)(Q.a,{color:"primary","aria-label":"set weight",component:"span",onClick:r,children:Object(v.jsx)(q.a,{})})}),Object(v.jsx)(E.a,{sx:{width:80},children:Object(v.jsx)(D.a,{id:"input-slider",gutterBottom:!0,align:"right",children:"weight"})}),Object(v.jsx)(E.a,{sx:{width:100},children:Object(v.jsx)(I.a,{defaultValue:0,min:0,max:1,step:.01,size:"small",value:t,onChange:function(e,t){n(t)},"aria-label":"weight",valueLabelDisplay:"auto"})})]})}function $(e){var t=e.touchValue,n=e.setTouchValue,r=e.handleUpdate;return Object(v.jsxs)(R.a,{direction:"row",alignItems:"center",spacing:2,children:[Object(v.jsxs)(E.a,{sx:{width:120},children:[Object(v.jsx)(Q.a,{color:"primary","aria-label":"increase weight on selection",component:"span",onClick:function(e){return r(e,t)},children:Object(v.jsx)(_.a,{})}),Object(v.jsx)(Q.a,{color:"primary","aria-label":"decrease weight on selection",component:"span",onClick:function(e){return r(e,-t)},children:Object(v.jsx)(K.a,{})})]}),Object(v.jsx)(E.a,{sx:{width:80},children:Object(v.jsx)(D.a,{id:"input-slider",gutterBottom:!0,align:"right",children:"increment"})}),Object(v.jsx)(E.a,{sx:{width:100},children:Object(v.jsx)(I.a,{defaultValue:0,min:0,max:1,step:.01,size:"small",value:t,onChange:function(e,t){n(t)},"aria-label":"weight increment",valueLabelDisplay:"auto"})})]})}function ee(e){var t=e.data;return Object(v.jsxs)("div",{className:"popover",children:[Object(v.jsxs)(D.a,{component:"div",children:["Current data and weights in the ",Object(v.jsx)("code",{children:"TextHeat"})," box"]}),Object(v.jsx)("code",{children:JSON.stringify(t)})]})}function te(e){var t=e.target,n=Object(r.useState)("paint"),a=Object(o.a)(n,2),c=a[0],i=a[1],s=Object(r.useState)(1),l=Object(o.a)(s,2),u=l[0],h=l[1],d=Object(r.useState)(.25),j=Object(o.a)(d,2),f=j[0],b=j[1],p=Object(r.useState)(null),x=Object(o.a)(p,2),m=x[0],O=x[1],g=Object(r.useState)(null),w=Object(o.a)(g,2),y=w[0],C=w[1],T=Boolean(m);return Object(v.jsxs)(P.a,{container:!0,direction:"row",justify:"space-between",children:[Object(v.jsx)(P.a,{item:!0,xs:11,children:Object(v.jsxs)(R.a,{className:"toolbar",direction:"row",spacing:2,alignItems:"center",children:[Object(v.jsxs)(J.a,{value:c,size:"small",exclusive:!0,onChange:function(e,t){null!==t&&i(t)},"aria-label":"mode for adjusting textheat weights",children:[Object(v.jsx)(B.a,{value:"paint",onClick:function(e){return i("paint")},children:"Paint"}),Object(v.jsx)(B.a,{value:"touch-up",onClick:function(e){return i("touch-up")},children:"Touch-up"})]}),"paint"===c?Object(v.jsx)(Z,{paintValue:u,setPaintValue:h,handlePaint:function(e){e.preventDefault(),t.current.setWeight(u)}}):Object(v.jsx)($,{touchValue:f,setTouchValue:b,handleUpdate:function(e,n){e.preventDefault(),t.current.incrementWeight(n)}})]})}),Object(v.jsx)(P.a,{item:!0,xs:1,children:Object(v.jsxs)(R.a,{className:"toolbar",direction:"row",alignItems:"center",justifyContent:"flex-end",children:[Object(v.jsx)(Q.a,{color:"primary","aria-label":"show data",component:"span",onClick:function(e){C(t.current.getContent()),O(e.currentTarget)},children:Object(v.jsx)(Y.a,{})}),Object(v.jsx)(W.a,{open:T,anchorEl:m,onClose:function(){O(null)},anchorOrigin:{vertical:"bottom",horizontal:"right"},children:Object(v.jsx)(ee,{data:y})})]})})]})}function ne(){var e=a.a.createRef();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(te,{target:e}),Object(v.jsx)(g,{ref:e,className:"textheat",value:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",editable:!1})]})}function re(){var e=a.a.createRef();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(te,{target:e}),Object(v.jsx)(g,{ref:e,className:"textheat",value:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",editable:!0})]})}function ae(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("h1",{children:["Examples with ",Object(v.jsx)("code",{children:"TextHeat"})," components"]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("code",{children:"TextHeat"})," components display text and associated weights in a heatmap."]})]})}function ce(e){var t=e.filenames,n=t.map((function(e){var t="https://github.com/tkonopka/textheat/blob/main/examples/src/"+e;return Object(v.jsx)("a",{className:"link_code",href:t,target:"_blank",rel:"noreferrer",children:e},e)}));return Object(v.jsxs)("p",{className:"link_code",children:["Source code:\xa0 ",n]})}function ie(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h2",{children:"Static"}),Object(v.jsx)("p",{children:"Static heatmaps communicate the varying weights associated with parts of a body of text."}),Object(v.jsx)("p",{children:"The default color scale uses shades of red, but the colors can be adjusted."}),Object(v.jsx)(V,{}),Object(v.jsx)(A,{}),Object(v.jsx)(H,{}),Object(v.jsx)(ce,{filenames:["example1.js"]})]})}function se(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h2",{children:"Adjustable weights"}),Object(v.jsx)("p",{children:"The component can adjust the weights (colors) for text fragments. This functionality can be used to create annotations."}),Object(v.jsx)("p",{children:"Below, select some text in the box. Then use the paint tool in the toolbar to give the selection a certain weight (color). Or use the touch-up tool to increase or decrease the weight by a small amount."}),Object(v.jsx)(ne,{}),Object(v.jsxs)("p",{children:["(Note that the toolbar is not part of the component. The above implementation uses ",Object(v.jsx)("a",{href:"https://www.mui.com",children:"MUI"})," components.)"]}),Object(v.jsx)(ce,{filenames:["example2.js"]})]})}function oe(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h2",{children:"Adjustable and editable"}),Object(v.jsx)("p",{children:"The component can be editable. Click inside the box and start typing new text."}),Object(v.jsx)(re,{}),Object(v.jsx)(ce,{filenames:["example3.js"]})]})}function le(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h2",{children:"Api"}),Object(v.jsxs)("p",{children:["Consider the example text '",Object(v.jsx)("i",{children:"Lorem ipsum dolor ..."}),"'. If there are no weights associated with this text, then a basic",Object(v.jsx)("code",{children:"TextHeat"})," component an be constructed by setting only the ",Object(v.jsx)("code",{children:"value"})," property."]}),Object(v.jsx)("pre",{children:Object(v.jsx)("code",{children:"<TextHeat value='Lorem ipsum dolor ...' />"})}),Object(v.jsxs)("p",{children:["Suppose we have weights that associate a value of 0.2 with the words '",Object(v.jsx)("i",{children:"Lorem"}),"' and '",Object(v.jsx)("i",{children:"dolor ..."}),"', but a higher value of 0.4 to the word '",Object(v.jsx)("i",{children:"ipsum"}),"'. This data should be prepared into segments and then provided as ",Object(v.jsx)("code",{children:"value"})," and ",Object(v.jsx)("code",{children:"weight"})," props."]}),Object(v.jsx)("pre",{children:Object(v.jsx)("code",{children:"<TextHeat\n    value=['Lorem ', 'ipsum ', 'dolor ...']\n    weight=[0.2, 0.4, 0.2]\n/>"})}),Object(v.jsx)("p",{children:"To adjust the content of the box, it must be created with a React ref object."}),Object(v.jsx)("pre",{children:Object(v.jsxs)("code",{children:["// before rendering, create a ref object\nconst ref = React.createRef()\n\n","// pass the reference to TextHeat \n<TextHeat\n    ref={ref}\n    value='Lorem impsum dolor ...'\n/>\n","\n// fetch text and weights from the component\nref.current.getContent()\n// increment weight on a selected/highlighted section\nref.current.incrementWeight(0.2)\n// set weight on selected/highlighted section to a value\nref.current.setWeight(0.5)"]})}),Object(v.jsx)("p",{children:"The above snippets only highlight some of the key steps. See the source code of the examples for further details."}),Object(v.jsx)(ce,{filenames:["example1.js","example2.js","example3.js"]})]})}var ue=function(){return Object(v.jsxs)(s.a,{maxWidth:"md",className:"App",children:[Object(v.jsx)(ae,{}),Object(v.jsx)(ie,{}),Object(v.jsx)(se,{}),Object(v.jsx)(oe,{}),Object(v.jsx)(le,{})]})},he=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,144)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};i.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(ue,{})}),document.getElementById("root")),he()}},[[94,1,2]]]);
//# sourceMappingURL=main.bf583ba3.chunk.js.map